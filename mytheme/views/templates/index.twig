{% extends 'layouts/base.twig' %}

{% block content %}
	{{
		include(
			'partials/page-title.twig',
			{
				title: site.name,
				description: site.description
			}
		)
	}}

	<div x-data="example"></div>
	<img
		class="w-full min-h-[14rem] object-cover aspect-[3/1]"
		src="{{ theme.link }}/assets/images/example.jpg"
		alt=""
	/>

	<section class="container mx-auto max-w-4xl mt-16">
		<h2 class="text-3xl font-bold text-center">
			{{ function('get_post_type_object', 'mytheme_news').labels.name }}
		</h2>

		{% set mytheme_news_posts =
			get_posts({
				post_type: 'mytheme_news'
			})
		%}
		<ol class="mt-8 divide-y">
			{% for post in mytheme_news_posts %}
				{{
					include(
						'partials/post-list-item.twig',
						{
							post: post,
							taxonomy: 'mytheme_news_category'
						}
					)
				}}
			{% else %}
				<li class="text-center">記事がありません。</li>
			{% endfor %}
		</ol>

		{% if (mytheme_news_posts|length) > 0 %}
			<div class="flex justify-center mt-8">
				{{
					include(
						'partials/base-button.twig',
						{
							content: 'さらに表示',
							attrs: 'href="%s"'|format(function('get_post_type_archive_link', 'mytheme_news'))
						}
					)
				}}
			</div>
		{% endif %}
	</section>
{% endblock %}
