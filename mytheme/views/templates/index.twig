{% extends 'layouts/base.twig' %}

{% block content %}
	{{
		include(
			'partials/page-title.twig',
			{
				title: site.name,
				description: site.description
			}
		)
	}}

	<div x-data="example"></div>
	<img
		class="w-full min-h-[14rem] object-cover aspect-[3/1]"
		src="{{ theme.link }}/assets/images/example.jpg"
		alt=""
	/>

	<section class="container mx-auto max-w-4xl mt-16">
		<h2 class="text-3xl font-bold text-center">
			{{ function('get_post_type_object', 'mytheme_news').labels.name }}
		</h2>

		<ol class="mt-8 divide-y">
			{% for post in get_posts({
				post_type: 'mytheme_news'
			}) %}
				<li class="py-3">
					<div class="flex flex-wrap gap-2">
						{% for term in post.terms({
							taxonomy: 'mytheme_news_category'
						}) %}
							<a href="{{ term.link }}">{{ term.title }}</a>
						{% endfor %}
					</div>
					<a class="flex justify-between items-center gap-x-6 pt-3" href="{{ post.link }}">
						<p>
							{{ post.title }}
						</p>
						<div class="w-auto shrink-0">
							<time class="text-sm" datetime="{{ post.date('Y-m-d H:i:s') }}">{{ post.date }}</time>
						</div>
					</a>
				</li>
			{% endfor %}
		</ol>

		<div class="flex justify-center mt-8">
			{{
				include(
					'partials/base-button.twig',
					{
						content: 'さらに表示',
						attrs: 'href="%s"'|format(function('get_post_type_archive_link', 'mytheme_news'))
					}
				)
			}}
		</div>
	</section>
{% endblock %}
